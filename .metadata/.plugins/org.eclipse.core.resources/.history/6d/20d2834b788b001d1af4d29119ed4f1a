package Msg;

import character.GameFrame;

import java.io.ByteArrayOutputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.net.DatagramSocket;

import character.Bullet;

public class New_Bullet_Msg implements Msg{
	private int msgType = Msg.NEW_BULLET_MSG;
	private GameFrame client;
	private Bullet bullet;
	
	public New_Bullet_Msg(GameFrame client) {
		this.client = client;
	}
	
	public New_Bullet_Msg(Bullet bullet) {
		this.bullet = bullet;
	}
	
	@Override
	public void send(DatagramSocket ds , String serverIP, int UDP_Port) {
		ByteArrayOutputStream baos = new ByteArrayOutputStream(30);
		DataOutputStream dos = new DataOutputStream(baos);
		
		try {
			dos.writeInt(msgType);
			dos.writeInt(client.getStickMan().getID());
			dos.writeInt(bullet.getID());
			dos.writeInt((int)bullet.getBulletX());
			dos.writeInt((int)bullet.getValY());
			
		}
		catch(IOException ioe) {
			ioe.printStackTrace();
		}
	}
}
