package character;

import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.io.IOException;

import Msg.New_Bullet_Msg;

public class MouseListener extends MouseAdapter {
    private GameFrame gf;
    
    /*
     * code below added by guo
     */
    int valx;
    int valy;
    
    public MouseListener(GameFrame gf) {
        this.gf = gf;
    }

    public void mousePressed(MouseEvent e) {
        int mx = e.getX()-16;
        int my = e.getY()-16;
//        if(!is_shooting){
        try {
        	/*added by guo
        	 *
        	New_Bullet_Msg msg = new New_Bullet_Msg(gf);
        	gf.getNetClient().send(msg);
        	 */
        	
            gf.getController().addBullet(new Bullet(gf.getStickMan().getStickManX(), gf.getStickMan().getStickManY(), (mx-gf.getStickMan().getStickManX()), (my- gf.getStickMan().getStickManY()), gf));
        } catch (IOException ex) {
            ex.printStackTrace();
        }
//        }

    }
    
    public void setValx(int valx) {
    	this.valx = valx;
    }
    
    public void setValy(int valy) {
    	this.valy = valy;
    }
    
    public int getValx() {
    	return valx;
    }
    
    public int getValy() {
    	return valy;
    }

}
